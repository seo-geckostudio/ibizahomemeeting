<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculador Electricista - Gecko Studio</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° Calculador Profesional para Electricistas</h1>
            <p>Presupuestos t√©cnicos con cumplimiento normativo REBT</p>
            <a href="../index.html" class="back-btn">‚Üê Volver al inicio</a>
        </header>

        <!-- Formulario del proyecto -->
        <section id="form-section" class="section active">
            <h2>Datos del Proyecto El√©ctrico</h2>

            <form id="electrical-form">
                <!-- Datos b√°sicos -->
                <div class="form-section">
                    <h3>üìã Informaci√≥n General</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="project-type">Tipo de instalaci√≥n:</label>
                            <select id="project-type" required>
                                <option value="">Selecciona tipo</option>
                                <option value="vivienda-nueva">Vivienda nueva</option>
                                <option value="reforma-integral">Reforma integral</option>
                                <option value="ampliacion">Ampliaci√≥n</option>
                                <option value="local-comercial">Local comercial</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="surface">Superficie (m¬≤):</label>
                            <input type="number" id="surface" min="30" max="500" required placeholder="150">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="power">Potencia contratada deseada:</label>
                            <select id="power" required>
                                <option value="">Selecciona potencia</option>
                                <option value="5.75">5,75 kW (B√°sica)</option>
                                <option value="9.2">9,2 kW (Est√°ndar)</option>
                                <option value="11.5">11,5 kW (Ampliada)</option>
                                <option value="15">15 kW (Premium)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="voltage">Tensi√≥n de suministro:</label>
                            <select id="voltage" required>
                                <option value="230">230V Monof√°sica</option>
                                <option value="400">400V Trif√°sica</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Circuitos y puntos -->
                <div class="form-section">
                    <h3>üîå Circuitos y Puntos de Uso</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="lighting-points">Puntos de luz:</label>
                            <input type="number" id="lighting-points" min="5" max="100" required placeholder="30">
                        </div>

                        <div class="form-group">
                            <label for="socket-points">Tomas de corriente:</label>
                            <input type="number" id="socket-points" min="10" max="150" required placeholder="40">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="bathrooms">Ba√±os:</label>
                            <input type="number" id="bathrooms" min="1" max="10" required placeholder="2">
                        </div>

                        <div class="form-group">
                            <label for="kitchen">Cocina el√©ctrica:</label>
                            <select id="kitchen" required>
                                <option value="no">No</option>
                                <option value="vitro">Vitrocer√°mica</option>
                                <option value="induccion">Inducci√≥n</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Elementos especiales -->
                <div class="form-section">
                    <h3>‚≠ê Elementos Especiales</h3>

                    <div class="checkbox-grid">
                        <label><input type="checkbox" name="special" value="aire"> Aire acondicionado</label>
                        <label><input type="checkbox" name="special" value="calefaccion"> Calefacci√≥n el√©ctrica</label>
                        <label><input type="checkbox" name="special" value="horno"> Horno el√©ctrico</label>
                        <label><input type="checkbox" name="special" value="lavadora"> Lavadora</label>
                        <label><input type="checkbox" name="special" value="secadora"> Secadora</label>
                        <label><input type="checkbox" name="special" value="lavavajillas"> Lavavajillas</label>
                        <label><input type="checkbox" name="special" value="termo"> Termo el√©ctrico</label>
                        <label><input type="checkbox" name="special" value="piscina"> Bomba piscina</label>
                        <label><input type="checkbox" name="special" value="ve"> Cargador veh√≠culo el√©ctrico</label>
                        <label><input type="checkbox" name="special" value="domotica"> Sistema dom√≥tico</label>
                        <label><input type="checkbox" name="special" value="solar"> Paneles solares</label>
                        <label><input type="checkbox" name="special" value="sai"> SAI/UPS</label>
                    </div>
                </div>

                <!-- Calidad de materiales -->
                <div class="form-section">
                    <h3>üíé Calidad de Materiales</h3>

                    <div class="form-group">
                        <label for="quality">Nivel de acabados:</label>
                        <select id="quality" required>
                            <option value="">Selecciona calidad</option>
                            <option value="basica">B√°sica - Materiales est√°ndar homologados</option>
                            <option value="media">Media - Buena calidad, marcas reconocidas</option>
                            <option value="alta">Alta - Materiales premium, dise√±o</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="brand-preference">Preferencia de marca:</label>
                        <select id="brand-preference">
                            <option value="mixta">Mixta (optimizar coste/calidad)</option>
                            <option value="schneider">Schneider Electric</option>
                            <option value="abb">ABB</option>
                            <option value="simon">Simon</option>
                            <option value="legrand">Legrand</option>
                        </select>
                    </div>
                </div>

                <!-- Datos del electricista -->
                <div class="form-section">
                    <h3>üë∑ Datos del Electricista</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="company-name">Empresa:</label>
                            <input type="text" id="company-name" required placeholder="Tu Empresa El√©ctrica SL">
                        </div>

                        <div class="form-group">
                            <label for="license-number">N¬∫ Autorizaci√≥n REBT:</label>
                            <input type="text" id="license-number" placeholder="BA-001234">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="hourly-rate">Tarifa horaria (‚Ç¨/h):</label>
                            <input type="number" id="hourly-rate" min="20" max="100" required placeholder="45">
                        </div>

                        <div class="form-group">
                            <label for="markup">Margen materiales (%):</label>
                            <input type="number" id="markup" min="0" max="50" required placeholder="20">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">‚ö° Calcular Presupuesto</button>
            </form>
        </section>

        <!-- Resultados -->
        <section id="results-section" class="section">
            <div class="results-header">
                <h2>Presupuesto Generado</h2>
                <div class="results-actions">
                    <button onclick="editProject()" class="btn btn-secondary">‚úèÔ∏è Editar</button>
                    <button onclick="downloadBudget()" class="btn btn-primary">üì• Descargar PDF</button>
                </div>
            </div>

            <!-- Validaci√≥n normativa -->
            <div id="normative-validation" class="validation-box"></div>

            <!-- C√°lculos t√©cnicos -->
            <div id="technical-calcs" class="technical-box"></div>

            <!-- Presupuesto detallado -->
            <div id="budget-detail" class="budget-container"></div>
        </section>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p id="loading-text">Calculando instalaci√≥n el√©ctrica...</p>
            <p class="loading-subtext">Validando normativa REBT</p>
        </div>
    </div>

    <script src="js/normativas.js"></script>
    <script src="js/materiales.js"></script>
    <script src="js/calculos.js"></script>
    <script src="js/presupuesto.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
