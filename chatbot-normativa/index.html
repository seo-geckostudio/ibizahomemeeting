<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Normativa Ibiza - Gecko Studio</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã Chatbot Normativa Ibiza</h1>
            <p>Consulta regulaciones de construcci√≥n y sostenibilidad</p>
            <a href="../index.html" class="back-btn">‚Üê Volver al inicio</a>
        </header>

        <div class="chat-container">
            <!-- Barra lateral con informaci√≥n -->
            <aside class="sidebar">
                <div class="info-card">
                    <h3>üí° Sobre este chatbot</h3>
                    <p>Asistente especializado en normativa de construcci√≥n y sostenibilidad en Ibiza.</p>
                    <p>Puedes preguntar sobre:</p>
                    <ul>
                        <li>PTI (Plan Territorial de Ibiza)</li>
                        <li>Permisos de construcci√≥n</li>
                        <li>Certificaciones sostenibles</li>
                        <li>Normativa urban√≠stica</li>
                        <li>Protecci√≥n patrimonial</li>
                        <li>Regulaci√≥n tur√≠stica</li>
                    </ul>
                </div>

                <div class="quick-questions">
                    <h3>‚ùì Preguntas frecuentes</h3>
                    <button class="quick-btn" onclick="askQuickQuestion('¬øQu√© es el PTI?')">
                        ¬øQu√© es el PTI?
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('¬øQu√© permisos necesito para construir?')">
                        Permisos de construcci√≥n
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('¬øC√≥mo certificar un edificio sostenible?')">
                        Certificaci√≥n sostenible
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('¬øPuedo construir en suelo r√∫stico?')">
                        Construcci√≥n en r√∫stico
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('Normativa para piscinas')">
                        Normativa piscinas
                    </button>
                    <button class="quick-btn" onclick="askQuickQuestion('¬øQu√© es ANEI?')">
                        √Åreas ANEI
                    </button>
                </div>

                <div class="disclaimer">
                    <p><strong>‚ö†Ô∏è Aviso:</strong> Esta informaci√≥n es orientativa. Consulta siempre con profesionales y el ayuntamiento correspondiente para casos espec√≠ficos.</p>
                </div>
            </aside>

            <!-- √Årea de chat principal -->
            <main class="chat-main">
                <div class="chat-header">
                    <div class="bot-avatar">ü§ñ</div>
                    <div class="bot-info">
                        <h2>Asistente Normativa</h2>
                        <span class="status">üü¢ Activo</span>
                    </div>
                    <button class="clear-btn" onclick="clearChat()">üóëÔ∏è Limpiar chat</button>
                </div>

                <div class="messages-container" id="messages-container">
                    <!-- Mensaje de bienvenida -->
                    <div class="message bot-message">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="message-content">
                            <div class="message-text">
                                ¬°Hola! Soy tu asistente especializado en normativa de construcci√≥n en Ibiza.
                                <br><br>
                                Puedo ayudarte con informaci√≥n sobre el PTI, permisos, certificaciones sostenibles, normativa urban√≠stica y m√°s.
                                <br><br>
                                <strong>¬øEn qu√© puedo ayudarte hoy?</strong>
                            </div>
                            <div class="message-time">Ahora</div>
                        </div>
                    </div>
                </div>

                <!-- √Årea de sugerencias (se muestra cuando est√° vac√≠o) -->
                <div class="suggestions-area" id="suggestions-area">
                    <p class="suggestions-title">Puedes preguntar cosas como:</p>
                    <div class="suggestions-grid">
                        <button class="suggestion-chip" onclick="askQuickQuestion('¬øNecesito arquitecto para mi reforma?')">
                            ¬øNecesito arquitecto para mi reforma?
                        </button>
                        <button class="suggestion-chip" onclick="askQuickQuestion('¬øCu√°nto tarda una licencia de obra?')">
                            ¬øCu√°nto tarda una licencia?
                        </button>
                        <button class="suggestion-chip" onclick="askQuickQuestion('Restricciones en Dalt Vila')">
                            Restricciones en Dalt Vila
                        </button>
                        <button class="suggestion-chip" onclick="askQuickQuestion('¬øQu√© es PassivHaus?')">
                            ¬øQu√© es PassivHaus?
                        </button>
                    </div>
                </div>

                <!-- Input de chat -->
                <div class="chat-input-container">
                    <form id="chat-form" class="chat-input-form">
                        <input
                            type="text"
                            id="message-input"
                            class="message-input"
                            placeholder="Escribe tu pregunta sobre normativa..."
                            autocomplete="off"
                            required
                        >
                        <button type="submit" class="send-btn" id="send-btn">
                            <span class="send-icon">üì§</span>
                        </button>
                    </form>
                    <div class="input-hint">
                        Presiona Enter para enviar
                    </div>
                </div>

                <!-- Indicador de escritura -->
                <div class="typing-indicator" id="typing-indicator" style="display: none;">
                    <div class="message bot-message">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="js/knowledge.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
